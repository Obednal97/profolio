/* === Components: Glass System === */
/* Complete Apple Liquid Glass design system */

/* Core Liquid Glass Material */
.liquid-glass {
  /* Base translucent background */
  background: var(--glass-bg-standard);
  border: 1px solid var(--glass-border-standard);
  border-radius: var(--radius-xl);

  /* Apple's signature backdrop blur and saturation */
  backdrop-filter: blur(var(--glass-blur-lg))
    saturate(var(--glass-saturation-high));
  -webkit-backdrop-filter: blur(var(--glass-blur-lg))
    saturate(var(--glass-saturation-high));

  /* Depth and dimensionality */
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);

  /* Performance optimizations */
  transform: translate3d(0, 0, 0);
  will-change: transform, backdrop-filter;

  /* Smooth transitions */
  transition: all var(--animation-duration-normal)
    var(--animation-easing-smooth);
}

/* Legacy glass-tile support - same as liquid-glass */
.glass-tile {
  /* Base translucent background */
  background: var(--glass-bg-standard);
  border: 1px solid var(--glass-border-standard);
  border-radius: var(--radius-xl);
  backdrop-filter: blur(var(--glass-blur-lg))
    saturate(var(--glass-saturation-high));
  -webkit-backdrop-filter: blur(var(--glass-blur-lg))
    saturate(var(--glass-saturation-high));
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transform: translate3d(0, 0, 0);
  will-change: transform, backdrop-filter;
  transition: all var(--animation-duration-normal)
    var(--animation-easing-smooth);
}

/* Dark mode adaptation */
.dark .liquid-glass,
.dark .glass-tile {
  background: var(--glass-bg-standard);
  border-color: var(--glass-border-standard);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Liquid Glass Variants */
.liquid-glass--subtle {
  backdrop-filter: blur(var(--glass-blur-sm))
    saturate(var(--glass-saturation-low));
  background: var(--glass-bg-subtle);
}

.liquid-glass--prominent {
  backdrop-filter: blur(var(--glass-blur-xl))
    saturate(var(--glass-saturation-high));
  background: var(--glass-bg-prominent);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);
}

.liquid-glass--navigation {
  backdrop-filter: blur(var(--glass-blur-xxl))
    saturate(var(--glass-saturation-high));
  background: var(--glass-bg-subtle);
  border: 1px solid var(--glass-border-subtle);
}

/* Interaction States */
.liquid-glass:hover {
  background: rgba(255, 255, 255, 0.18);
  transform: translateY(-2px) scale(1.01);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);
}

.dark .liquid-glass:hover {
  background: rgba(0, 0, 0, 0.4);
}

/* Performance-based Dynamic Tinting */
.liquid-glass--performance-positive {
  --glass-accent: var(--performance-positive-standard);
  background-image: radial-gradient(
      circle at 30% 30%,
      var(--glass-accent),
      transparent 70%
    ),
    linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
}

.liquid-glass--performance-negative {
  --glass-accent: var(--performance-negative-standard);
  background-image: radial-gradient(
      circle at 30% 30%,
      var(--glass-accent),
      transparent 70%
    ),
    linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
}

/* Glass Card Components */
.glass-card {
  /* Inherit liquid-glass styles */
  background: var(--glass-bg-standard);
  border: 1px solid var(--glass-border-standard);
  border-radius: var(--radius-xl);
  backdrop-filter: blur(var(--glass-blur-lg))
    saturate(var(--glass-saturation-high));
  -webkit-backdrop-filter: blur(var(--glass-blur-lg))
    saturate(var(--glass-saturation-high));
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transform: translate3d(0, 0, 0);
  will-change: transform, backdrop-filter;
  transition: all var(--animation-duration-normal)
    var(--animation-easing-smooth);

  /* Card specific */
  padding: var(--component-padding-md);
  border-radius: 1.5rem;
  position: relative;
  overflow: hidden;
}

.glass-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%
  );
}

.glass-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.1) 0%,
    transparent 50%,
    rgba(255, 255, 255, 0.05) 100%
  );
  pointer-events: none;
  border-radius: inherit;
}

.dark .glass-card {
  background: var(--glass-bg-standard);
  border-color: var(--glass-border-standard);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Enhanced Glass Modal System */
.glass-modal-overlay {
  backdrop-filter: blur(8px) saturate(120%);
  background: rgba(0, 0, 0, 0.3);
  transition: backdrop-filter var(--animation-duration-normal)
    var(--animation-easing-smooth);
}

.glass-modal {
  /* Prominent glass styles */
  backdrop-filter: blur(var(--glass-blur-xxl))
    saturate(var(--glass-saturation-high));
  -webkit-backdrop-filter: blur(var(--glass-blur-xxl))
    saturate(var(--glass-saturation-high));
  background: var(--glass-bg-prominent);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);

  /* Modal specific */
  padding: var(--component-padding-lg);
  border-radius: 1.875rem;
  max-width: 28rem;
  width: 100%;
  position: relative;
}

.dark .glass-modal {
  background: var(--glass-bg-modal);
  border-color: var(--glass-border-prominent);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Glass Navigation */
.glass-nav {
  /* Navigation glass styles */
  backdrop-filter: blur(var(--glass-blur-xxl))
    saturate(var(--glass-saturation-high));
  background: var(--glass-bg-subtle);
  border: 1px solid var(--glass-border-subtle);
  padding: 0.5rem 1rem;
  border-radius: 9999px;
}

.dark .glass-nav {
  background: var(--glass-bg-standard);
  border-color: var(--glass-border-subtle);
}

.glass-nav-item {
  padding: 0.5rem 1rem;
  border-radius: 9999px;
  transition-property: all;
  transition-duration: 200ms;
}

.glass-nav-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.dark .glass-nav-item:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

.glass-nav-item:active {
  background-color: rgba(255, 255, 255, 0.2);
}

.dark .glass-nav-item:active {
  background-color: rgba(255, 255, 255, 0.1);
}

.glass-nav-item--active {
  background-color: rgba(255, 255, 255, 0.2);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

.dark .glass-nav-item--active {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Glass loading skeleton */
.glass-skeleton {
  /* Subtle glass base */
  backdrop-filter: blur(var(--glass-blur-sm))
    saturate(var(--glass-saturation-low));
  background: var(--glass-bg-subtle);

  /* Shimmer effect */
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.1) 25%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(255, 255, 255, 0.1) 75%
  );
  background-size: 200% 100%;
  animation: glass-shimmer 2s infinite;
}

.dark .glass-skeleton {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.05) 25%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0.05) 75%
  );
  background-size: 200% 100%;
}

@keyframes glass-shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Browser Support Fallbacks */
@supports not (backdrop-filter: blur(1px)) {
  .liquid-glass {
    background: rgba(255, 255, 255, 0.85);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
  }

  .dark .liquid-glass {
    background: rgba(0, 0, 0, 0.85);
  }
}
